function getHalfwayRange(a,t,n){if(t>a)return[];if(0>t-n)return[1,n];for(var e=t-1;e>t-1-n;e--)if(a>=e+n-1)return[e,a-1];return[t-n+1,t]}function defineInitIndexes(a,t,n){var e,s;return t+n>a+1?(e=a-n+1,s=a):t+n===a+1?(e=t>1?t-1:1,s=a>n?a-1:a):(e=t>1?t-1:1,s=e+n-1),{init:e,end:s}}function manageBlockControls(a){if(!a.collapseAllCntrl)return!0;var t=$(this),n=!1;t.children().each(function(){n|="none"!==$(this).css("display")}),t.css("display",n?"":"none")}function updatePageCounter(a,t){$(".c-paginator__counter-current",this.$counter).html(a),$(".c-paginator__counter-total",this.$counter).html(t)}function managePageLinks(a,t,n){var e=$(".js-page-action[data-index='"+t+"']",this.$nav);if(n="number"==typeof n&&a>n?n:a,e.hasClass("is-first-link")||e.hasClass("is-last-link")||0===e.length){var s=[];if(e.hasClass("is-first-link")?e.data("link-index")!==e.attr("data-index")&&(s=[+(e.attr("data-index")-n+2),+e.attr("data-index")-1],s[0]<1&&(s=[1,n])):e.hasClass("is-last-link")?e.attr("data-index")!==a&&(s=[+e.attr("data-index")-1,+e.attr("data-index")+n-2],s[1]>a&&(s=[a-n+1,a])):s=1===t?[1,n]:t===a?[a-n+1,a]:getHalfwayRange(a,t,n),2===s.length){var i=s[0];e.removeClass("is-current-page");for(var r=1;n>=r;r++){var l=$(".js-page-action[data-link-index='"+r+"']",this.$nav);l.attr("data-index",i+""),l.html(i),i===t&&l.addClass("is-current-page"),i++}}}}function getShownRange(){var a=parseInt($(".is-first-link",this.$nav).attr("data-index"),10),t=parseInt($(".is-last-link",this.$nav).attr("data-index"),10);return a&&t?[a,t]:!1}function manageControls(a,t){$(".js-prev-action",this.$nav).parent().css("display",1!==a?"inline-block":"none"),$(".js-next-action",this.$nav).parent().css("display",a!==t?"inline-block":"none");var n=getShownRange.call(this);n&&($(".js-first-action",this.$nav).parent().css("display",1!==n[0]?"inline-block":"none"),$(".js-last-action",this.$nav).parent().css("display",n[1]<t?"inline-block":"none")),manageBlockControls.call($(".c-paginator__prev-controls",this.$nav),this.settings),manageBlockControls.call($(".c-paginator__next-controls",this.$nav),this.settings)}function prevPage(a){var t,n=parseInt(a.attr("data-index"),10);return a.removeClass("is-current-page"),t=updateLayout.call(this,n-1,n),t||a.parent().prev().children(".js-page-action").addClass("is-current-page"),n-1}function nextPage(a){var t,n=parseInt(a.attr("data-index"),10);return a.removeClass("is-current-page"),t=updateLayout.call(this,n+1,n),t||a.parent().next().children(".js-page-action").addClass("is-current-page"),n+1}function firstPage(a){var t,n=$(".js-page-action[data-index='1']",this.$nav).first(),e=parseInt(a.attr("data-index"),10);return a.removeClass("is-current-page"),t=updateLayout.call(this,1,e),t||n.addClass("is-current-page"),1}function lastPage(a){var t,n=$(".js-page-action[data-index='"+this.nPages+"']",this.$nav).first(),e=parseInt(a.attr("data-index"),10);return a.removeClass("is-current-page"),t=updateLayout.call(this,this.nPages,e),t||n.addClass("is-current-page"),this.nPages}function linkPage(a,t){var n=parseInt(t.attr("data-index")),e=parseInt(a.attr("data-index")),s=updateLayout.call(this,n,e);return s||t.addClass("is-current-page"),n}function manageNewAction(a,t,n){switch(n){case"page":return linkPage.call(this,t,a);case"next":return nextPage.call(this,t);case"prev":return prevPage.call(this,t);case"first":return firstPage.call(this,t);case"last":return lastPage.call(this,t);default:return!1}}function clickActionLink(a){var t=$(".is-current-page",this.$nav).first();if(t.get(0)!==a.get(0)){var n=/(\w+)(-action)/;if(n.test(a[0].className)){var e=n.exec(a[0].className)[1],s=["page","next","prev","first","last"];if(-1!==$.inArray(e,s)){t.removeClass("is-current-page");var i=manageNewAction.call(this,a,t,e);i&&(window.tempModuleLoadObj=window.tempModuleLoadObj||{},window.tempModuleLoadObj.event="component-page-change",this.$main.attr("data-page",+i).trigger("change"),updatePageCounter.call(this,i,this.nPages),this.settings.triggerEvent&&this.$main.trigger("onPageChange",i))}}}}function createPageLinks(a,t,n){var e,s,i,r,l,o,c,g=this,p=defineInitIndexes(a,t,n),d=p.init,h=p.end,u=d;for(n="number"==typeof n?n:a,n>a&&(n=a),this.remove(),this.$counter=$("<div class='c-paginator__counter'><span class='c-paginator__counter-current'></span> of <span class='c-paginator__counter-total'></span></div>").appendTo(this.$main),this.$nav=$("<div class='c-paginator__navigation'></div>").appendTo(this.$main),e=$("<div class='c-paginator__prev-controls'></div>").prependTo(this.$nav),e.prepend("<div class='c-paginator__page-selector' "+(1===a||1===t?"style='display:none'":!0)+"><a class='c-paginator__page-selector-link js-prev-action' href='#''></a></div>"),e.prepend("<div class='c-paginator__page-selector' "+(1===d?"style='display:none'":!0)+"><a class='c-paginator__page-selector-link js-first-action' href='#'></a></div>"),manageBlockControls.call(e,this.settings),c=1;h>=u;)l=$("<div class='c-paginator__page-selector'><a class='c-paginator__page-selector-link js-page-action' href='#' data-link-index='"+c+"' data-index='"+u+"'>"+u+"</a></div>").appendTo(this.$nav),u===d&&l.children(".js-page-action").addClass("is-first-link"),u===h&&l.children(".js-page-action").addClass("is-last-link"),u++,c++;$(".js-page-action[data-index='"+t+"']",this.$nav).addClass("is-current-page"),i=$("<div class='c-paginator__next-controls'></div>").appendTo(this.$nav),i.append("<div class='c-paginator__page-selector' "+(1===a||t===a?"style='display:none'":"")+"><a class='c-paginator__page-selector-link js-next-action' href='#'></a></div>"),i.append("<div class='c-paginator__page-selector' "+(1!==a&&a>n&&a!==h?"":"style='display:none'")+"><a class='c-paginator__page-selector-link js-last-action' href='#'></a></div>"),manageBlockControls.call(i,this.settings),updatePageCounter.call(this,t,a),this.$nav.on("click",".c-paginator__page-selector-link",function(a){a.preventDefault();var t=$(a.currentTarget,g.$nav);clickActionLink.call(g,t)}),s=i.children(),r=e.children(),s.addClass("c-paginator__control"),r.addClass("c-paginator__control"),$(window).width()<768?e.after(this.$counter):e.before(this.$counter),e.nextAll(".c-paginator__page-selector").wrapAll("<div class='c-paginator__page-selectors'></div>"),this.settings.allResponsive&&(o=$(".c-paginator__page-selectors",this.$nav),r.parent().prepend(r.last()),o.prepend(r.parent()),o.append(s.parent()))}function Paginator(a,t,n,e,s,i){this.nItemsPage=5,this.nItemsTotal=100,this.nPages=Math.ceil(this.nItemsTotal/this.nItemsPage),this.nPagesShown=10,this.settings={allResponsive:!1,triggerEvent:!1,collapseAllCntrl:!1},this.$main=null,this.$nav=null,this.$counter=null;var r=function(){this.nItemsTotal=n||this.nItemsTotal,this.nItemsPage=t||this.nItemsPage,this.nPagesShown=e||this.nPagesShown,this.nPages=Math.ceil(this.nItemsTotal/this.nItemsPage),$.extend(this.settings,i),this.nPagesShown>this.nPages&&(this.nPagesShown=this.nPages)},l=function(){s="number"==typeof s?s:1,i="object"==typeof i?i:{},r.call(this,t,n,e,i),this.$main=a instanceof $?a.find(pagClass):$(pagClass),this.nPagesShown>1?createPageLinks.call(this,this.nPages,s,this.nPagesShown):this.remove()};return l.call(this),this}var pagClass=".c-paginator",_paginator,updateLayout=function(a){var t=!1,n=getShownRange.call(this);return n&&(a>n[0]&&a<n[1]||(managePageLinks.call(this,this.nPages,a,this.nPagesShown),t=!0)),manageControls.call(this,a,this.nPages,this.nPagesShown),t};Paginator.prototype.remove=function(){this.$main.empty()},Paginator.prototype.goLink=function(a,t){var n,e,s,i,r;return null===t&&(s=$(".is-current-page",this.$nav).first(),n=parseInt(s.attr("data-index"),10),s.removeClass("is-current-page")),e=updateLayout.call(this,a,n),r=$(".c-paginator__page-selectors .js-page-action",this.$nav),i=r.filter(function(){return $(this).attr("data-index")===a+""}),i.addClass("is-current-page"),!0},$(document).ready(function(){$(pagClass).is("*")&&$(pagClass).data("isAsync")!==!0&&(_paginator=new Paginator)});